<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark light" />
    <title>MystriX - Admin</title>
    <base href="../" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css?v=admin02" />
  </head>
  <body class="has-dock" id="admin-page">
    <div class="lightbar" aria-hidden="true"></div>
    <div class="corner-logo" aria-hidden="true">
      <img src="mystrix_logo.png" alt="MystriX logo" />
    </div>

    <header class="site-header">
      <div class="logo">WOLF HOUSE</div>
      <nav class="nav">
        <a href="index.html#home">Home</a>
        <a href="products.html">Products</a>
        <a href="downloads.html">Downloads</a>
        <a href="login.html">Login / Signup</a>
        <a href="#" class="nav-join">Join</a>
      </nav>
    </header>

    <main class="hero" id="home" style="max-width:1200px; margin:auto;">
      <h1>Admin Control Panel</h1>
      <p class="subcopy">Manage users, access levels, and operational health.</p>

      <section class="glass admin-summary">
        <div class="section-header">
          <h2>Operational Snapshot</h2>
          <p class="status">User access + pooled wallet metrics.</p>
        </div>
        <div class="admin-stats" id="admin-stats"></div>
        <div class="admin-stats ledger-stats" id="ledger-stats"></div>
        <div id="ledger-batch" class="ledger-batch"></div>
      </section>

      <section class="glass admin-ledger" style="margin-top:12px;">
        <div class="section-header">
          <h2>Pooled Wallet Ledger</h2>
          <p class="status">Track principal, allocate yield, and audit user balances.</p>
        </div>
        <div class="admin-ledger-grid">
          <div class="ledger-card">
            <h3>Principal Actions</h3>
            <div class="form-grid ledger-form">
              <label><span>User</span><select id="ledger-user"></select></label>
              <label><span>Amount (USDT)</span><input id="ledger-amount" type="number" step="0.01" placeholder="0.00"/></label>
              <label><span>Note</span><input id="ledger-note" type="text" placeholder="Deposit note"/></label>
            </div>
            <div class="btn-row">
              <button id="ledger-deposit" class="cta" type="button">Add Deposit</button>
              <button id="ledger-withdraw" class="cta danger" type="button">Withdraw Principal</button>
            </div>
          </div>
          <div class="ledger-card">
            <h3>Yield Allocation</h3>
            <div class="form-grid ledger-form">
              <label><span>Yield Amount (USDT)</span><input id="ledger-yield" type="number" step="0.01" placeholder="0.00"/></label>
              <label><span>Note</span><input id="ledger-yield-note" type="text" placeholder="Allocation note"/></label>
            </div>
            <div class="btn-row">
              <button id="ledger-allocate" class="cta" type="button">Allocate Profit</button>
            </div>
          </div>
          <div class="ledger-card">
            <h3>Profit Withdrawal</h3>
            <div class="form-grid ledger-form">
              <label><span>User</span><select id="ledger-profit-user"></select></label>
              <label><span>Amount (USDT)</span><input id="ledger-profit-amount" type="number" step="0.01" placeholder="0.00"/></label>
              <label><span>Note</span><input id="ledger-profit-note" type="text" placeholder="Profit payout"/></label>
            </div>
            <div class="btn-row">
              <button id="ledger-profit-withdraw" class="cta" type="button">Withdraw Profit</button>
            </div>
          </div>
        </div>
        <div class="ledger-controls">
          <label>
            <span class="status">Filter user</span>
            <select id="ledger-filter-user">
              <option value="">All users</option>
            </select>
          </label>
          <div class="ledger-control-actions">
            <button id="ledger-filter-apply" class="cta" type="button">Apply Filter</button>
            <button id="ledger-filter-clear" class="cta danger" type="button">Clear</button>
            <button id="ledger-export" class="cta" type="button">Export CSV</button>
          </div>
        </div>
        <p id="ledger-msg" class="status"></p>
        <div id="ledger-events" class="table-wrap"></div>
      </section>

      <section class="glass admin-users" style="margin-top:12px;">
        <div class="admin-toolbar">
          <div class="admin-search">
            <span class="status">Search</span>
            <input id="user-search" type="text" placeholder="email, name, plan" />
          </div>
          <div class="admin-filters">
            <label>
              <span class="status">Plan</span>
              <select id="filter-plan">
                <option value="all">All</option>
                <option value="free">Free</option>
                <option value="premium">Premium</option>
              </select>
            </label>
            <label>
              <span class="status">Status</span>
              <select id="filter-active">
                <option value="all">All</option>
                <option value="active">Active</option>
                <option value="disabled">Disabled</option>
              </select>
            </label>
          </div>
          <div class="admin-actions">
            <button id="refresh-users" class="cta" type="button">Refresh</button>
          </div>
          <p id="admin-msg" class="status"></p>
        </div>
        <div class="admin-bulk">
          <label class="bulk-select">
            <input id="bulk-select-all" type="checkbox" />
            <span>Select all</span>
          </label>
          <div class="bulk-actions">
            <button id="bulk-enable-plus" class="cta" type="button">Enable MystriX+</button>
            <button id="bulk-disable-plus" class="cta danger" type="button">Disable MystriX+</button>
            <button id="bulk-enable-backtest" class="cta" type="button">Enable Backtest</button>
            <button id="bulk-disable-backtest" class="cta danger" type="button">Disable Backtest</button>
            <button id="bulk-enable-autotrader" class="cta" type="button">Enable AutoTrader</button>
            <button id="bulk-disable-autotrader" class="cta danger" type="button">Disable AutoTrader</button>
            <button id="bulk-enable-chat" class="cta" type="button">Enable Chat</button>
            <button id="bulk-disable-chat" class="cta danger" type="button">Disable Chat</button>
            <button id="bulk-activate" class="cta" type="button">Activate Users</button>
            <button id="bulk-disable" class="cta danger" type="button">Disable Users</button>
          </div>
          <div class="bulk-plan">
            <input id="bulk-plan-name" type="text" placeholder="Plan name" />
            <input id="bulk-plan-note" type="text" placeholder="Plan note" />
            <input id="bulk-plan-expires" type="date" />
            <button id="bulk-apply-plan" class="cta" type="button">Apply Plan</button>
            <button id="bulk-clear-expiry" class="cta danger" type="button">Clear Expiry</button>
          </div>
        </div>
        <div id="admin-users-table" class="table-wrap"></div>
      </section>

      <section class="glass admin-suggestions" style="margin-top:12px;">
        <h2 style="margin:0 0 10px;">User Suggestions</h2>
        <div id="admin-suggestions" class="results"></div>
      </section>

      <section class="glass admin-audit" style="margin-top:12px;">
        <div class="section-header">
          <h2>Admin Audit Log</h2>
          <p class="status">Track every userâ€‘impacting action.</p>
        </div>
        <div class="audit-controls">
          <label>
            <span class="status">Filter user</span>
            <select id="audit-filter-user">
              <option value="">All users</option>
            </select>
          </label>
          <div class="audit-control-actions">
            <button id="audit-filter-apply" class="cta" type="button">Apply Filter</button>
            <button id="audit-filter-clear" class="cta danger" type="button">Clear</button>
            <button id="audit-export" class="cta" type="button">Export CSV</button>
          </div>
        </div>
        <div id="audit-events" class="table-wrap"></div>
      </section>
    </main>

    <div class="bottom-dock" role="contentinfo">
      <div class="dock-inner">
        <nav class="nav bottom-nav" aria-label="Primary">
          <a href="index.html#home">Home</a>
          <a href="products.html">Products</a>
          <a href="downloads.html">Downloads</a>
        </nav>
        <div class="floorbar"><span class="floor-text">(c) <span class="year"></span> Wolf House. All rights reserved.</span></div>
      </div>
    </div>

    <div id="admin-auth" class="pricing-modal active">
      <div class="pricing-card glass">
        <h3>Admin Access</h3>
        <p>Enter admin credentials to unlock the control panel.</p>
        <div class="form-grid">
          <label><span>Username</span><input id="admin-user" type="text" placeholder="Admin username" /></label>
          <label><span>Password</span><input id="admin-pass" type="password" placeholder="Admin password" /></label>
        </div>
        <div class="btn-row">
          <button id="admin-login" class="cta" type="button">Login</button>
        </div>
        <p id="admin-auth-msg" class="status"></p>
      </div>
    </div>

    <script src="script.js?v=admin02"></script>
    <script src="admin.js?v=admin02"></script>
    <button class="theme-switch theme-switch-floating" data-theme-toggle type="button">Theme</button>
    <script src="theme_toggle.js" defer></script>
  </body>
</html>
